/* eslint-disable */var bulletin=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function o(e){const{apiUrl:n,siteKey:t,bulletinContainer:o}=e;let r=1/0,a=1/0;const i='\n  <div class="card mb-2" id="%id">\n    <div class="card-header">\n      <div class="row">\n        <div class="col-sm-5 col-md-6">\n          <h5 class="card-title">%nickname</h5>\n        </div>\n        <div class="col-sm-5 offset-sm-2 col-md-6 offset-md-0 align-self-end">\n          <h6 class="card-title text-muted text-right">%createdAt</h6>\n        </div>\n      </div>\n    </div>\n    <div class="card-body">\n      <p class="card-text" style="overflow-wrap:break-word;white-space: pre-line;">%comment</p>\n    </div>\n  </div>';function l(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):e}function c(e,t,o){let r="?siteKey="+e;isFinite(t)&&(r+="&before="+t),$.ajax(n+r).done(e=>{const{discussions:n,minId:t}=e;a=t,o(n)})}function d(e){if($(".comments__loadbtn").hide(),0===e.length)return;let n=r;for(const t of e){let e=i.replace("%id",t.id).replace("%nickname",l(t.nickname)).replace("%createdAt",l(t.created_at)).replace("%comment",l(t.comment));if(t.id<=n)n=t.id,$(".comments").append(e);else{$(".comments").prepend(e);$("#addCommentCotent").val(""),$("#addCommentNickname").val("")}$("#"+r).scrollTop(),r=n}r>a&&$(".comments__loadbtn").show()}$(document).ready(()=>{$("."+o).append($('\n  <nav class="navbar navbar-expand-lg navbar-light bg-light">\n    <a class="navbar-brand">Bulletin</a>\n  </nav>\n    <div class="col align-items-center">\n      <form class="addCommentForm mb-3">\n        <div class="form-group">\n          <label for="addCommentNickname">Nickname</label>\n          <input type="text" class="form-control" id="addCommentNickname" required>\n        </div>\n        <div class="form-group">\n          <label for="addCommentCotent">Comments</label>\n          <textarea class="form-control" id="addCommentCotent" rows="3" required></textarea>\n        </div>\n        <button type="submit" class="btn btn-primary">Post</button>\n      </form>\n    <div class="comments">\n    </div>\n    <button type="button" class="btn btn-secondary btn-lg btn-block comments__loadbtn">\n      Load More\n    </button>\n  </div>')),c(t,r,d),$(".comments__loadbtn").click(()=>{c(t,r,d)}),$(".addCommentForm").submit(e=>{e.preventDefault();!function(e,t,o,r=null){$.post(n,{comment:e,nickname:t,siteKey:o}).done(e=>{const{err:n}=e;n?alert("invalid inputs"):r(e.discussions)})}($("#addCommentCotent").val(),$("#addCommentNickname").val(),t,d)})})}t.r(n),t.d(n,"init",(function(){return o}))}]);