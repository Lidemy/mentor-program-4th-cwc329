/* eslint-disable */var bulletin=function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function o(n){const{apiUrl:e,siteKey:t,bulletinContainer:o}=n;let r=1/0,a=1/0;const i='\n  <div class="card mb-2" id="%id">\n    <div class="card-header">\n      <div class="row">\n        <div class="col-sm-5 col-md-6">\n          <h5 class="card-title">%nickname</h5>\n        </div>\n        <div class="col-sm-5 offset-sm-2 col-md-6 offset-md-0 align-self-end">\n          <h6 class="card-title text-muted text-right">%createdAt</h6>\n        </div>\n      </div>\n    </div>\n    <div class="card-body">\n      <p class="card-text" style="overflow-wrap:break-word;white-space: pre-line;">%comment</p>\n    </div>\n  </div>';function c(n){return n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):n}function l(n,t,o){let r="?siteKey="+n;isFinite(t)&&(r+="&before="+t),$.ajax(e+r).done(n=>{const{discussions:e,minId:t}=n;a=t,o(e)})}function d(n){if($(".comments__loadbtn").hide(),0===n.length)return;let e=r;for(const t of n){const n=i.replace("%id",t.id).replace("%nickname",c(t.nickname)).replace("%createdAt",c(t.created_at)).replace("%comment",c(t.comment));t.id<=e?(e=t.id,$(".comments").append(n)):($(".comments").prepend(n),$("#addCommentCotent").val(""),$("#addCommentNickname").val("")),$("#"+r).scrollTop(),r=e}r>a&&$(".comments__loadbtn").show()}$("."+o).append($('\n  <nav class="navbar navbar-expand-lg navbar-light bg-light">\n    <a class="navbar-brand">Bulletin</a>\n  </nav>\n    <div class="col align-items-center">\n      <form class="addCommentForm mb-3">\n        <div class="form-group">\n          <label for="addCommentNickname">Nickname</label>\n          <input type="text" class="form-control" id="addCommentNickname" required>\n        </div>\n        <div class="form-group">\n          <label for="addCommentCotent">Comments</label>\n          <textarea class="form-control" id="addCommentCotent" rows="3" required></textarea>\n        </div>\n        <button type="submit" class="btn btn-primary">Post</button>\n      </form>\n    <div class="comments">\n    </div>\n    <button type="button" class="btn btn-secondary btn-lg btn-block comments__loadbtn">\n      Load More\n    </button>\n  </div>')),l(t,r,d),$(".comments__loadbtn").click(()=>{l(t,r,d)}),$(".addCommentForm").submit(n=>{n.preventDefault();!function(n,t,o,r=null){$.post(e,{comment:n,nickname:t,siteKey:o}).done(n=>{const{err:e}=n;e?alert("invalid inputs"):r(n.discussions)})}($("#addCommentCotent").val(),$("#addCommentNickname").val(),t,d)})}t.r(e),t.d(e,"init",(function(){return o}))}]);